(window.webpackJsonp=window.webpackJsonp||[]).push([[40,17],{521:function(e,t,n){"use strict";n.r(t);var r={},l=n(46),component=Object(l.a)(r,(function(){this._self._c;return this._m(0)}),[function(){var e=this._self._c;return e("div",{staticClass:"w-full"},[e("div",{staticClass:"rounded overflow-hidden border shadow-lg animate-pulse w-full"},[e("div",{staticClass:"bg-gray-300 h-28"})])])}],!1,null,null,null);t.default=component.exports},699:function(e,t,n){"use strict";n.r(t);n(34),n(13),n(30),n(10),n(8);var r=n(49),l=(n(93),{layout:"dashboards",data:function(){return{loading:!1,showModal:!1,tradingBalance:"",updateProfitStatus:null,processingProfitUpdate:!1,selectedWallet:{},form:{name:"",address:""},updatedUserData:{},processing:!1}},computed:{isFormEmpty:function(){return!(!this.selectedWallet.name||!this.selectedWallet.address)},computedCards:function(){var e,t,n,r,l;return[{name:"Trading Balance",value:"bank",walletName:"Bank Account",count:"".concat(null!==(e=this.formatNumberAsDollar(this.tradingBalance))&&void 0!==e?e:"N/A"),address:"",icon:"wallet",classStyle:"bg-green-500"},{name:"BTC",value:"btc",walletName:"BitCoin",count:"",address:null!==(t=null===(n=this.updatedUserData)||void 0===n?void 0:n.btc)&&void 0!==t?t:"N/A",icon:"bit",classStyle:"bg-pink-500"},{name:"ETH",value:"eth",walletName:"Ethereum",count:"",address:null!==(r=null===(l=this.updatedUserData)||void 0===l?void 0:l.eth)&&void 0!==r?r:"N/A",icon:"eth",classStyle:"bg-blue-500"}]}},mounted:function(){this.fetchAdminStats(),this.getUserInfo()},methods:{handleClick:function(){this.showModal=!0},handleWalletModal:function(e){this.selectedWallet=e,this.$bvModal.show("wallet-update")},updateWallet:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,l,input,o,data,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.processing=!0,n=JSON.parse(window.localStorage.getItem("auth")),r=JSON.parse(window.localStorage.getItem("user")),t.prev=3,"\n          mutation updateUser($userId: String!, $input: UpdateUser!) {\n            updateUser(userId: $userId, input: $input) {\n              id\n              firstName\n              lastName\n              email\n              Status\n              PlanType\n              accountBalance\n              tradingBalance\n              profit\n              eth\n              btc\n              timeAdded\n            }\n          }\n        ",input="btc"===e.selectedWallet.value?{btc:e.selectedWallet.address}:"eth"===e.selectedWallet.value?{eth:e.selectedWallet.address}:{btc:e.selectedWallet.address,eth:e.selectedWallet.address},t.next=8,fetch("https://visionary-zpui.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer "+n},body:JSON.stringify({query:"\n          mutation updateUser($userId: String!, $input: UpdateUser!) {\n            updateUser(userId: $userId, input: $input) {\n              id\n              firstName\n              lastName\n              email\n              Status\n              PlanType\n              accountBalance\n              tradingBalance\n              profit\n              eth\n              btc\n              timeAdded\n            }\n          }\n        ",variables:{userId:null!==(l=null==r?void 0:r.id)&&void 0!==l?l:"",input:input}})});case 8:return o=t.sent,t.next=11,o.json();case 11:null!=(data=t.sent)&&data.errors?e.$toastr.e(data.errors[0].message):(e.$toastr.s("".concat(null===(d=e.selectedWallet)||void 0===d?void 0:d.name," wallet address was successfully updated")),e.$bvModal.hide("wallet-update"));case 13:return t.prev=13,e.processing=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[3,,13,16]])})))()},fetchAdminStats:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,data,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,n=JSON.parse(window.localStorage.getItem("auth")),e.loading=!0,"\n        query {\n          getAdminStats {\n            totalProfit\n            totalWithdrawal\n            totalUsers\n            totalDeposits\n            tradingBalance\n          }\n        }\n      ",t.prev=4,t.next=7,fetch("https://visionary-zpui.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer "+n},body:JSON.stringify({query:"\n        query {\n          getAdminStats {\n            totalProfit\n            totalWithdrawal\n            totalUsers\n            totalDeposits\n            tradingBalance\n          }\n        }\n      "})});case 7:return r=t.sent,t.next=10,r.json();case 10:null!=(data=t.sent)&&data.errors?e.$toastr.e(data.errors[0].message):e.tradingBalance=null==data||null===(l=data.data)||void 0===l||null===(l=l.getAdminStats)||void 0===l?void 0:l.tradingBalance;case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[4,,12,15]])})))()},handleProfitUpdate:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.processingProfitUpdate=!0,n=JSON.parse(window.localStorage.getItem("auth")),e.loading=!0,"\n        mutation {\n          updateProfits\n        }\n      ",t.prev=4,t.next=7,fetch("https://visionary-zpui.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer "+n},body:JSON.stringify({query:"\n        mutation {\n          updateProfits\n        }\n      "})});case 7:return r=t.sent,t.next=10,r.json();case 10:null!=(data=t.sent)&&data.errors?e.$toastr.e(data.errors[0].message):e.updateProfitStatus=data.data.updateProfits;case 12:return t.prev=12,e.processingProfitUpdate=!1,e.fetchAdminStats(),t.finish(12);case 16:case"end":return t.stop()}}),t,null,[[4,,12,16]])})))()},getUserInfo:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,n=JSON.parse(window.localStorage.getItem("auth")),e.loading=!0,"\n        query {\n          getUser {\n            id\n            firstName\n            lastName\n            email\n            Status\n            PlanType\n            accountBalance\n            tradingBalance\n            profit\n            eth\n            btc\n            timeAdded\n          }\n        }\n      ",t.prev=4,t.next=7,fetch("https://visionary-zpui.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer "+n},body:JSON.stringify({query:"\n        query {\n          getUser {\n            id\n            firstName\n            lastName\n            email\n            Status\n            PlanType\n            accountBalance\n            tradingBalance\n            profit\n            eth\n            btc\n            timeAdded\n          }\n        }\n      "})});case 7:return r=t.sent,t.next=10,r.json();case 10:null!=(data=t.sent)&&data.errors?e.$toastr.e(data.errors[0].message):e.updatedUserData=data.data.getUser;case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[4,,12,15]])})))()},formatNumberAsDollar:function(e){return null==e?void 0:e.toLocaleString("en-US",{style:"currency",currency:"USD"})}}}),o=n(46),component=Object(o.a)(l,(function(){var e,t=this,r=t._self._c;return r("main",[r("main",{staticClass:"space-y-10"},[r("div",{staticClass:"flex justify-between items-center"},[r("h1",{staticClass:"text-gray-800 font-medium"},[t._v("\n        Overview\n      ")]),t._v(" "),r("button",{staticClass:"px-3 py-2 rounded-full text-white bg-black",attrs:{type:"button"},on:{click:t.handleProfitUpdate}},[t._v("\n        Update profit\n      ")])]),t._v(" "),t.loading?r("div",{staticClass:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-8"},t._l(3,(function(e){return r("loader",{key:e})})),1):r("div",{staticClass:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-8"},t._l(t.computedCards,(function(e,l){return r("div",{key:l,staticClass:"h-32 rounded-lg bg-black flex items-center justify-between gap-x-3 pl-3 relative"},[r("div",{staticClass:"flex items-center gap-x-2"},[r("div",{staticClass:"rounded-full h-16 w-16 flex justify-center items-center"},[r("img",{attrs:{src:n(225)("./".concat(e.icon,".png")),alt:"stat icon"}})]),t._v(" "),r("div",[r("h1",{staticClass:"text-xl font-medium text-white"},[t._v("\n              "+t._s(e.count)+"\n            ")]),t._v(" "),r("p",{staticClass:"text-2xl text-gray-100"},[t._v("\n              "+t._s(e.name)+"\n            ")])])]),t._v(" "),"bank"!==e.value?r("div",{staticClass:"absolute top-3 right-2 cursor-pointer"},[r("button",{staticClass:"flex items-center gap-x-3 border-white border px-3 py-2.5 rounded-md",on:{click:function(n){return t.handleWalletModal(e)}}},[r("span",{staticClass:"text-white"},[t._v("Update")]),t._v(" "),r("img",{staticClass:"cursor-pointer",attrs:{src:n(338),alt:"more"}})])]):t._e()])})),0)]),t._v(" "),r("b-modal",{attrs:{id:"wallet-update","hide-footer":"",centered:"","hide-header":""}},[r("div",{staticClass:"flex justify-center items-center"},[r("h1",{staticClass:"text-lg font-semibold text-black"},[t._v("\n        "+t._s(Object.keys(t.selectedWallet).length?"Update ".concat(null===(e=t.selectedWallet)||void 0===e?void 0:e.walletName," wallet"):"Update Wallet")+"\n      ")])]),t._v(" "),r("form",{staticClass:"mt-8 gap-6 w-full space-y-6 px-6 pb-6",on:{submit:function(e){return e.preventDefault(),t.updateWallet.apply(null,arguments)}}},[r("div",{staticClass:"col-span-6 sm:col-span-6"},[r("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"walletName"}},[t._v("\n          Wallet Name\n        ")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedWallet.value,expression:"selectedWallet.value"}],staticClass:"mt-1 disabled: cursor-not-allowed bg-gray-100 w-full px-3 py-3 border outline-none rounded-md border-gray-200 text-sm text-gray-700 shadow-sm",attrs:{id:"walletName",disabled:"",readonly:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));t.$set(t.selectedWallet,"value",e.target.multiple?n:n[0])}}},[r("option",{attrs:{value:"btc"}},[t._v("\n            BitCoin\n          ")]),t._v(" "),r("option",{attrs:{value:"eth"}},[t._v("\n            Ethereum\n          ")]),t._v(" "),r("option",{attrs:{value:"bank"}},[t._v("\n            Bank\n          ")])])]),t._v(" "),r("div",{staticClass:"col-span-6 sm:col-span-6"},[r("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"walletAddress"}},[t._v("\n          Wallet Address\n        ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedWallet.address,expression:"selectedWallet.address"}],staticClass:"mt-1 w-full px-3 py-3 border outline-none rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm",attrs:{id:"walletAddress",type:"text",name:"walletAddress"},domProps:{value:t.selectedWallet.address},on:{input:function(e){e.target.composing||t.$set(t.selectedWallet,"address",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"w-full flex justify-between items-center gap-x-4"},[r("button",{staticClass:"w-full rounded-md border disabled:cursor-not-allowed disabled:opacity-25 bg-gray-500 px-12 py-3 text-xs font-medium text-white transition focus:outline-none focus:ring",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("wallet-update")}}},[t._v("\n          Cancel\n        ")]),t._v(" "),r("button",{staticClass:"w-full rounded-md border text-xs disabled:cursor-not-allowed disabled:opacity-25 border-black bg-black px-12 py-3 font-medium text-white transition hover:bg-transparent focus:outline-none focus:ring",attrs:{type:"submit",disabled:!t.isFormEmpty||t.processing}},[t._v("\n          "+t._s(t.processing?"saving...":"Update ".concat(t.selectedWallet.name," wallet"))+"\n        ")])])])])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Loader:n(521).default})}}]);