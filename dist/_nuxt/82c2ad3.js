(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{683:function(e,t,n){"use strict";n.r(t);var r=n(49),d=(n(93),n(13),n(8),{layout:"user-dashboard",data:function(){return{userId:"12345",processing:!1,updatedUserData:{firstName:"",lastName:"",email:"",password:""}}},computed:{isFormEmpty:function(){return!!(this.updatedUserData.firstName&&this.updatedUserData.lastName&&this.updatedUserData.email&&this.updatedUserData.password)}},mounted:function(){this.getUserInfo()},methods:{updateUser:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,d,o,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.processing=!0,n=JSON.parse(window.localStorage.getItem("auth")),r=JSON.parse(window.localStorage.getItem("user")),t.prev=3,"\n          mutation updateUser($userId: String!, $input: UpdateUser!) {\n            updateUser(userId: $userId, input: $input) {\n              id\n              firstName\n              lastName\n              email\n              Status\n              PlanType\n              accountBalance\n              tradingBalance\n              profit\n              eth\n              btc\n              timeAdded\n            }\n          }\n        ",t.next=7,fetch("https://visionary-zpui.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer "+n},body:JSON.stringify({query:"\n          mutation updateUser($userId: String!, $input: UpdateUser!) {\n            updateUser(userId: $userId, input: $input) {\n              id\n              firstName\n              lastName\n              email\n              Status\n              PlanType\n              accountBalance\n              tradingBalance\n              profit\n              eth\n              btc\n              timeAdded\n            }\n          }\n        ",variables:{userId:null!==(d=null==r?void 0:r.id)&&void 0!==d?d:"",input:{firstName:e.updatedUserData.firstName,lastName:e.updatedUserData.lastName,password:e.updatedUserData.password,email:e.updatedUserData.email}}})});case 7:return o=t.sent,t.next=10,o.json();case 10:null!=(data=t.sent)&&data.errors?e.$toastr.e(data.errors[0].message):e.$toastr.s("You have successfully updated your profile");case 12:return t.prev=12,e.processing=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[3,,12,15]])})))()},getUserInfo:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,n=JSON.parse(window.localStorage.getItem("auth")),e.loading=!0,"\n        query {\n          getUser {\n            id\n            firstName\n            lastName\n            email\n            Status\n            PlanType\n            accountBalance\n            tradingBalance\n            profit\n            eth\n            btc\n            timeAdded\n          }\n        }\n      ",t.prev=4,t.next=7,fetch("https://visionary-zpui.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer "+n},body:JSON.stringify({query:"\n        query {\n          getUser {\n            id\n            firstName\n            lastName\n            email\n            Status\n            PlanType\n            accountBalance\n            tradingBalance\n            profit\n            eth\n            btc\n            timeAdded\n          }\n        }\n      "})});case 7:return r=t.sent,t.next=10,r.json();case 10:null!=(data=t.sent)&&data.errors?e.$toastr.e(data.errors[0].message):e.updatedUserData=data.data.getUser;case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[4,,12,15]])})))()}}}),o=n(46),component=Object(o.a)(d,(function(){var e=this,t=e._self._c;return t("main",{staticClass:"lg:flex justify-start items-start gap-x-10 space-y-10 lg:space-y-0"},[t("section",{staticClass:"bg-white lg:w-5/12 rounded-md border"},[t("p",{staticClass:"border-b pl-6 py-4 text-sm font-semibold"},[e._v("\n      Keep Your Profile Up-To-Date\n    ")]),e._v(" "),t("form",{staticClass:"p-6 lg:p-10 space-y-6",on:{submit:function(t){return t.preventDefault(),e.updateUser.apply(null,arguments)}}},[t("div",{staticClass:"space-y-1"},[t("label",{staticClass:"text-xs text-gray-700 font-medium"},[e._v("First Name")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.updatedUserData.firstName,expression:"updatedUserData.firstName"}],staticClass:"py-2.5 md:py-2 border rounded-md w-full outline-none pl-6 text-sm md:text-base",attrs:{type:"text"},domProps:{value:e.updatedUserData.firstName},on:{input:function(t){t.target.composing||e.$set(e.updatedUserData,"firstName",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-xs text-gray-500"},[e._v("We'll never share your details with anyone else")])]),e._v(" "),t("div",{staticClass:"space-y-1"},[t("label",{staticClass:"text-xs text-gray-700 font-medium"},[e._v("Last Name")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.updatedUserData.lastName,expression:"updatedUserData.lastName"}],staticClass:"py-2.5 md:py-2 text-sm md:text-base border rounded-md w-full outline-none pl-6",attrs:{type:"text"},domProps:{value:e.updatedUserData.lastName},on:{input:function(t){t.target.composing||e.$set(e.updatedUserData,"lastName",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-xs text-gray-500"},[e._v("We'll never share your details with anyone else")])]),e._v(" "),t("div",{staticClass:"space-y-1"},[t("label",{staticClass:"text-xs text-gray-700 font-medium"},[e._v("Email address:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.updatedUserData.email,expression:"updatedUserData.email"}],staticClass:"py-2.5 md:py-2 text-sm md:text-base border rounded-md w-full outline-none pl-6",attrs:{type:"email"},domProps:{value:e.updatedUserData.email},on:{input:function(t){t.target.composing||e.$set(e.updatedUserData,"email",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-xs text-gray-500"},[e._v("We'll never share your details with anyone else")])]),e._v(" "),t("div",{staticClass:"space-y-1"},[t("label",{staticClass:"text-xs text-gray-700 font-medium"},[e._v("Password:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.updatedUserData.password,expression:"updatedUserData.password"}],staticClass:"py-2.5 md:py-2 border rounded-md w-full outline-none pl-6 text-sm md:text-base",attrs:{type:"password"},domProps:{value:e.updatedUserData.password},on:{input:function(t){t.target.composing||e.$set(e.updatedUserData,"password",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-xs text-gray-500"},[e._v("We'll never share your details with anyone else")])]),e._v(" "),t("div",{staticClass:"w-full"},[t("button",{staticClass:"bg-green-500 w-full disabled:cursor-not-allowed disabled:opacity-25 text-white rounded-lg px-6 py-3 text-sm",class:[e.isFormEmpty?null:"opacity-25 cursor-not-allowed"],attrs:{disabled:!e.isFormEmpty}},[e._v("\n          "+e._s(e.processing?"processing...":"Update")+"\n        ")])])])])])}),[],!1,null,null,null);t.default=component.exports}}]);